<!doctype html>
<html lang="en" ng-app>
<head>
    <meta charset="utf-8">

    <!-- <link href="http://vjs.zencdn.net/5.11.8/video-js.css" rel="stylesheet">-->
    <link href="node_modules/video.js/dist/video-js.css" rel="stylesheet">
    <link href="video.css" rel="stylesheet">

    <script src="./node_modules/angular/angular.js"></script>

    <title>{{'video name goes here'}}</title>
</head>
<body>


<!-- Heading, with video meta info, and a back button to go back to previous page -->
<header>
    <p>Video: beamcoffer/blah/blah/GOPRO123.mp4</p>
    <p>Length: 00:01:23</p>
</header>


<div id="video-panel">
  <video id="my-video" class="video-js" controls preload="auto" width="640" height="264"
  poster="I_DUNNO.jpg" data-setup="{}">
    <source src="video/GOPR2128-hb.mp4" type='video/mp4'>
    <p class="vjs-no-js">
      To view this video please enable JavaScript, and consider upgrading to a web browser that
      <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
    </p>
  </video>

  <div id="control-panel">
      <!-- slider for playback rate -->
      <div id="playback-control">
          <label>Playback Rate</label>
          <br>
          <input onchange="changeRate()" type="range" min="-3" max="3" value="1" step="0.05" id="rate-slider" list="rate-ticks">
          <datalist id="rate-ticks">
            <option>-3</option>
            <option>-2.5</option>
            <option>-2</option>
            <option>-1.5</option>
            <option>-1</option>
            <option>-0.5</option>
            <option>0</option>
            <option>0.5</option>
            <option>1</option>
            <option>1.5</option>
            <option>2</option>
            <option>2.5</option>
            <option>3</option>
          </datalist>
          <br>
          <div id="rate-num">1</div>

          <br>

          <!-- Reset playback speed to 1 -->
          <button onclick="playNormally()" id="play-normal">Reset Playback Speed</button>
      </div>

      <br>

      <div id="seek-control">
          <p>Seek by seconds</p>
          <button onclick="skipBack()">&larr;</button>
          <input id="skip-amt" type="text" size="2" value="10">
          <button onclick="skipForward()">&rarr;</button>
      </div>

  </div>


  <!-- Target instances (in this case, laughter) -->
  <div id="target-instances-map">

      <!-- Vertical timeline of video
             - Should scale relative to size of video (longer overflows in div?)
             - Should include indicators that map to instance items       
      -->
      <div id="timeline-map">
         timeline 
      </div>

      <!-- Instance list
             - Should allow user to add tags
               - Open up hidden sub-menu where categories / tags can be added?
             - Should have timestamps provided by service
      -->
      <div id="instances">
          <div class="instance">
              <ul class="tags">
                  <li>#Unilateral</li>
                  <li>#Isolated</li>
                  <li>#Mark</li>
              </ul>
              <div class="timestamp">
                  <span class="instance-start">Start: 00:00:15</span>
                  <br>
                  <span class="instance-stop">Stop: 00:00:20</span>
              </div>
              <button class="goto-instance" onclick="goToTime(15)">Go there</button>
          </div>
          <div class="instance">
              <ul class="tags">
                  <li>#Joint</li>
                  <li>#Diffusing</li>
                  <li>#David</li>
                  <li>#Aytul</li>
              </ul>
              <div class="timestamp">
                  <span class="instance-start">Start: 00:00:43</span>
                  <br>
                  <span class="instance-stop">Stop: 00:00:47</span>
              </div>
              <button class="goto-instance" onclick="goToTime(43)">Go there</button>
          </div>
          <div class="instance">
              <ul class="tags">
                  <li>#Joint</li>
                  <li>#Diffusing</li>
                  <li>#David</li>
                  <li>#Aytul</li>
              </ul>
              <div class="timestamp">
                  <span class="instance-start">Start: 00:00:56</span>
                  <br>
                  <span class="instance-stop">Stop: 00:00:59</span>
              </div>
              <button class="goto-instance" onclick="goToTime(56)">Go there</button>
          </div>
          <div class="instance">
              <ul class="tags">
                  <li>#Joint</li>
                  <li>#Diffusing</li>
                  <li>#David</li>
                  <li>#Aytul</li>
              </ul>
              <div class="timestamp">
                  <span class="instance-start">Start: 00:01:03</span>
                  <br>
                  <span class="instance-stop">Stop: 00:01:05</span>
              </div>
              <button class="goto-instance" onclick="goToTime(63)">Go there</button>
          </div>
      </div>
  </div>
</div>





<!-- JavaScript, etc. -->
<!--<script src="http://vjs.zencdn.net/5.11.8/video.js"></script>-->
<script src="node_modules/video.js/dist/video.js"></script>

<!-- Video playback options -->
<!-- <script src="node_modules/videojs-seek-buttons/dist/videojs-seek-buttons.js"></script>
<link href="node_modules/videojs-seek-buttons/dist/videojs-seek-buttons.css" rel="stylesheet"></link>-->

<!-- Video settings adjustments -->
<script src="node_modules/videojs-settings-menu/dist/videojs-settings-menu.js"></script>
<script>
    var player = videojs('my-video');


    // playback rate function (tied to slider)
    function changeRate() {
        var rate = document.getElementById('rate-slider').value;
        player.playbackRate(rate);
        document.getElementById('rate-num').innerHTML = rate;
    }

    function playNormally() {
        // reset rate values
        player.playbackRate(1);
        document.getElementById('rate-num').innerHTML = 1;

        // reset slider position
        document.getElementById('rate-slider').value = 1;
    }

    function skipBack() {
        var skipAmt = document.getElementById('skip-amt').value;
        goToTime(player.currentTime() - skipAmt);
    }

    function skipForward() {
        var skipAmt = document.getElementById('skip-amt').value;
        goToTime(player.currentTime() + skipAmt);
    }

    function goToTime(value) {
        player.currentTime(value);
    }

</script>



</body>
<html>
